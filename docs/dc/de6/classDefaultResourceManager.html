<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>KA3D API Reference: DefaultResourceManager Class Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
<link href="../../tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1-p1 -->
<div class="tabs">
  <ul>
    <li><a href="../../index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="../../modules.html"><span>Modules</span></a></li>
    <li id="current"><a href="../../classes.html"><span>Classes</span></a></li>
    <li><a href="../../files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="../../classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="../../annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="../../hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="../../functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>DefaultResourceManager Class Reference<br>
<small>
[<a class="el" href="../../d6/d41/group__hgr.html">Hierarchical graphics library</a>]</small>
</h1><!-- doxytag: class="DefaultResourceManager" --><!-- doxytag: inherits="ResourceManager" --><code>#include &lt;<a class="el" href="../../dd/d10/DefaultResourceManager_8h-source.html">DefaultResourceManager.h</a>&gt;</code>
<p>
Inheritance diagram for DefaultResourceManager:<p><center><img src="../../df/da2/classDefaultResourceManager__inherit__graph.png" border="0" usemap="#df/d25/DefaultResourceManager__inherit__map" alt="Inheritance graph"></center>
<map name="df/d25/DefaultResourceManager__inherit__map">
<area href="../../de/d6b/classResourceManager.html" shape="rect" coords="27,80,157,107" alt="">
</map>
<center><font size="2">[<a href="../../graph_legend.html">legend</a>]</font></center><a href="../../d0/d0a/classDefaultResourceManager-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Default rendering resource manager. 
<p>
Manages resources in following way: <ul>
<li>
Shares texture by matching pathname (i.e. C:/mydata/tex.bmp != C:/tex.bmp) </li>
<li>
Shares particles by matching basename (i.e. C:/flare.prs == C:/data/flare.prs) </li>
<li>
Shaders are not shared (i.e. C:/my.fx != C:/my.fx) </li>
</ul>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="65083e5fd97a8c88fa0d9b1117805518"></a><!-- doxytag: member="DefaultResourceManager::DefaultResourceManager" ref="65083e5fd97a8c88fa0d9b1117805518" args="(NS(gr, Context)*context)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de6/classDefaultResourceManager.html#65083e5fd97a8c88fa0d9b1117805518">DefaultResourceManager</a> (NS(gr, <a class="el" href="../../d2/d00/classContext.html">Context</a>)*context)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates resource manager using specified rendering context. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de6/classDefaultResourceManager.html#44c4836e0f424ee964a69b6aeae0b020">findTextureResources</a> (const NS(lang, <a class="el" href="../../d3/dee/classString.html">String</a>)&amp;pathfilter)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finds texture resources below specific path.  <a href="#44c4836e0f424ee964a69b6aeae0b020"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d2/d16/classParticleSystem.html">ParticleSystem</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de6/classDefaultResourceManager.html#a188a0c5a4a1c32feaf0c34f77a1c1ff">getParticleSystem</a> (const NS(lang, <a class="el" href="../../d3/dee/classString.html">String</a>)&amp;filename, const NS(lang, <a class="el" href="../../d3/dee/classString.html">String</a>)&amp;texturepath, const NS(lang, <a class="el" href="../../d3/dee/classString.html">String</a>)&amp;shaderpath)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets particle system by filename.  <a href="#a188a0c5a4a1c32feaf0c34f77a1c1ff"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de6/classDefaultResourceManager.html#11368d0522ebeff6f49a9f4d7ca8380b">NS</a> (gr, CubeTexture)*getCubeTexture(const NS(lang</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets cube texture by filename.  <a href="#11368d0522ebeff6f49a9f4d7ca8380b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de6/classDefaultResourceManager.html#b0d6d81db60cc21c86efe62cf706aa6c">NS</a> (gr, Texture)*getTexture(const NS(lang</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets texture by filename.  <a href="#b0d6d81db60cc21c86efe62cf706aa6c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de6/classDefaultResourceManager.html#639a9552ffaf18f994ddbd4a55f196ee">NS</a> (gr, <a class="el" href="../../d9/d69/classShader.html">Shader</a>)*getShader(const NS(lang</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets shader by name.  <a href="#639a9552ffaf18f994ddbd4a55f196ee"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de6/classDefaultResourceManager.html#f5205439b61f579ce426c36a344dd41c">releaseUnusedTextures</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Releases textures which have no (external) references left.  <a href="#f5205439b61f579ce426c36a344dd41c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de6/classDefaultResourceManager.html#70aa5a7e7de0a7df401ec5170da68358">replaceTextureExtension</a> (const NS(lang, <a class="el" href="../../d3/dee/classString.html">String</a>)&amp;newsuffix)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Replaces texture file extension with specified string.  <a href="#70aa5a7e7de0a7df401ec5170da68358"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="7e5591135f1a3c4674c099257c3cbe9d"></a><!-- doxytag: member="DefaultResourceManager::get" ref="7e5591135f1a3c4674c099257c3cbe9d" args="(NS(gr, Context)*context)" -->
static <a class="el" href="../../de/d6b/classResourceManager.html">ResourceManager</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de6/classDefaultResourceManager.html#7e5591135f1a3c4674c099257c3cbe9d">get</a> (NS(gr, <a class="el" href="../../d2/d00/classContext.html">Context</a>)*context)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns active resource manager. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0f3db437c7e6dab560bd93b785cc1313"></a><!-- doxytag: member="DefaultResourceManager::set" ref="0f3db437c7e6dab560bd93b785cc1313" args="(ResourceManager *res)" -->
static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de6/classDefaultResourceManager.html#0f3db437c7e6dab560bd93b785cc1313">set</a> (<a class="el" href="../../de/d6b/classResourceManager.html">ResourceManager</a> *res)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets active resource manager. <br></td></tr>
<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="eb3c6a36d40a1fcb5f1bf72566391385"></a><!-- doxytag: member="DefaultResourceManager::filename" ref="eb3c6a36d40a1fcb5f1bf72566391385" args="" -->
<a class="el" href="../../d3/dee/classString.html">String</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>filename</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="eb3c6a36d40a1fcb5f1bf72566391385"></a><!-- doxytag: member="DefaultResourceManager::filename" ref="eb3c6a36d40a1fcb5f1bf72566391385" args="" -->
<a class="el" href="../../d3/dee/classString.html">String</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>filename</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="746e92e6294eba46946d5dc33c282ba1"></a><!-- doxytag: member="DefaultResourceManager::flags" ref="746e92e6294eba46946d5dc33c282ba1" args="" -->
<a class="el" href="../../d3/dee/classString.html">String</a> int&nbsp;</td><td class="memItemRight" valign="bottom"><b>flags</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d83c09f0b9bfad013389c1d70795402e"></a><!-- doxytag: member="DefaultResourceManager::name" ref="d83c09f0b9bfad013389c1d70795402e" args="" -->
<a class="el" href="../../d3/dee/classString.html">String</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>name</b></td></tr>

<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><b>TextureResource</b></td></tr>

</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="44c4836e0f424ee964a69b6aeae0b020"></a><!-- doxytag: member="DefaultResourceManager::findTextureResources" ref="44c4836e0f424ee964a69b6aeae0b020" args="(const NS(lang, String)&amp;pathfilter)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DefaultResourceManager::findTextureResources           </td>
          <td>(</td>
          <td class="paramtype">const NS(lang, <a class="el" href="../../d3/dee/classString.html">String</a>)&amp;&nbsp;</td>
          <td class="paramname"> <em>pathfilter</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Finds texture resources below specific path. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pathfilter</em>&nbsp;</td><td>Path to find resource from, e.g. D:/data/* </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="a188a0c5a4a1c32feaf0c34f77a1c1ff"></a><!-- doxytag: member="DefaultResourceManager::getParticleSystem" ref="a188a0c5a4a1c32feaf0c34f77a1c1ff" args="(const NS(lang, String)&amp;filename, const NS(lang, String)&amp;texturepath, const NS(lang, String)&amp;shaderpath)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d16/classParticleSystem.html">ParticleSystem</a>* DefaultResourceManager::getParticleSystem           </td>
          <td>(</td>
          <td class="paramtype">const NS(lang, <a class="el" href="../../d3/dee/classString.html">String</a>)&amp;&nbsp;</td>
          <td class="paramname"> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const NS(lang, <a class="el" href="../../d3/dee/classString.html">String</a>)&amp;&nbsp;</td>
          <td class="paramname"> <em>texturepath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const NS(lang, <a class="el" href="../../d3/dee/classString.html">String</a>)&amp;&nbsp;</td>
          <td class="paramname"> <em>shaderpath</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets particle system by filename. 
<p>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td></td></tr>
  </table>
</dl>

<p>
Implements <a class="el" href="../../de/d6b/classResourceManager.html#5529021818ba370828fffb9654a74a4d">ResourceManager</a>.
</div>
</div><p>
<a class="anchor" name="11368d0522ebeff6f49a9f4d7ca8380b"></a><!-- doxytag: member="DefaultResourceManager::NS" ref="11368d0522ebeff6f49a9f4d7ca8380b" args="(gr, CubeTexture)*getCubeTexture(const NS(lang" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DefaultResourceManager::NS           </td>
          <td>(</td>
          <td class="paramtype">gr&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CubeTexture&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets cube texture by filename. 
<p>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td></td></tr>
  </table>
</dl>

<p>
Reimplemented from <a class="el" href="../../de/d6b/classResourceManager.html#a702705cf8240ac8d31d19f70380084d">ResourceManager</a>.
</div>
</div><p>
<a class="anchor" name="b0d6d81db60cc21c86efe62cf706aa6c"></a><!-- doxytag: member="DefaultResourceManager::NS" ref="b0d6d81db60cc21c86efe62cf706aa6c" args="(gr, Texture)*getTexture(const NS(lang" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DefaultResourceManager::NS           </td>
          <td>(</td>
          <td class="paramtype">gr&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Texture&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets texture by filename. 
<p>
Note that basenames need to be unique! <dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td></td></tr>
  </table>
</dl>

<p>
Reimplemented from <a class="el" href="../../de/d6b/classResourceManager.html#7409b5c7bdfb94bd22aaa503431b370a">ResourceManager</a>.
</div>
</div><p>
<a class="anchor" name="639a9552ffaf18f994ddbd4a55f196ee"></a><!-- doxytag: member="DefaultResourceManager::NS" ref="639a9552ffaf18f994ddbd4a55f196ee" args="(gr, Shader)*getShader(const NS(lang" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DefaultResourceManager::NS           </td>
          <td>(</td>
          <td class="paramtype">gr&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d69/classShader.html">Shader</a>&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets shader by name. 
<p>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td></td></tr>
  </table>
</dl>

<p>
Reimplemented from <a class="el" href="../../de/d6b/classResourceManager.html#4f48b55fa4bc77b4af733761b58fcf9b">ResourceManager</a>.
</div>
</div><p>
<a class="anchor" name="f5205439b61f579ce426c36a344dd41c"></a><!-- doxytag: member="DefaultResourceManager::releaseUnusedTextures" ref="f5205439b61f579ce426c36a344dd41c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DefaultResourceManager::releaseUnusedTextures           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Releases textures which have no (external) references left. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Number of surface memory bytes released. </dd></dl>

</div>
</div><p>
<a class="anchor" name="70aa5a7e7de0a7df401ec5170da68358"></a><!-- doxytag: member="DefaultResourceManager::replaceTextureExtension" ref="70aa5a7e7de0a7df401ec5170da68358" args="(const NS(lang, String)&amp;newsuffix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DefaultResourceManager::replaceTextureExtension           </td>
          <td>(</td>
          <td class="paramtype">const NS(lang, <a class="el" href="../../d3/dee/classString.html">String</a>)&amp;&nbsp;</td>
          <td class="paramname"> <em>newsuffix</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Replaces texture file extension with specified string. 
<p>
Can be used for example to load platform-specific texture files when scenes have been exported with generic files. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>newsuffix</em>&nbsp;</td><td>New file name extension for textures, dot included. </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="../../dd/d10/DefaultResourceManager_8h-source.html">DefaultResourceManager.h</a></ul>
<br><br><small></small><br><br></body></html>
