<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>KA3D API Reference: Context.h Source File</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
<link href="../../tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1-p1 -->
<div class="tabs">
  <ul>
    <li><a href="../../index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="../../modules.html"><span>Modules</span></a></li>
    <li><a href="../../classes.html"><span>Classes</span></a></li>
    <li id="current"><a href="../../files.html"><span>Files</span></a></li>
  </ul></div>
<h1>Context.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef _GR_CONTEXT_H</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define _GR_CONTEXT_H</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 
<a name="l00005"></a>00005 <span class="preprocessor">#include &lt;gr/Shader.h&gt;</span>
<a name="l00006"></a>00006 <span class="preprocessor">#include &lt;gr/Primitive.h&gt;</span>
<a name="l00007"></a>00007 <span class="preprocessor">#include &lt;gr/SurfaceFormat.h&gt;</span>
<a name="l00008"></a>00008 <span class="preprocessor">#include &lt;lang/Array.h&gt;</span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &lt;lang/String.h&gt;</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include &lt;lang/Object.h&gt;</span>
<a name="l00011"></a>00011 <span class="preprocessor">#include &lt;math/float3x4.h&gt;</span>
<a name="l00012"></a>00012 
<a name="l00013"></a>00013 
<a name="l00014"></a>00014 <a class="code" href="../../d6/d92/group__lang.html#ge87bc3f9c3beb9b22afae96d24321e4c">BEGIN_NAMESPACE</a>(math) 
<a name="l00015"></a>00015     class <a class="code" href="../../d5/dd2/classfloat4x4.html">float4x4</a>;<a class="code" href="../../d6/d92/group__lang.html#gce508b538a678f69f6213076f2f85859">END_NAMESPACE</a>()
<a name="l00016"></a>00016 
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 <a class="code" href="../../d6/d92/group__lang.html#ge87bc3f9c3beb9b22afae96d24321e4c">BEGIN_NAMESPACE</a>(gr) 
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 
<a name="l00021"></a>00021 class Rect;
<a name="l00022"></a>00022 class <a class="code" href="../../de/dad/classPalette.html">Palette</a>;
<a name="l00023"></a>00023 class Texture;
<a name="l00024"></a>00024 class <a class="code" href="../../df/de1/classPrimitive.html">Primitive</a>;
<a name="l00025"></a>00025 class CubeTexture;
<a name="l00026"></a>00026 class VertexFormat;
<a name="l00027"></a>00027     
<a name="l00028"></a>00028 
<a name="l00035"></a><a class="code" href="../../d2/d00/classContext.html">00035</a> class <a class="code" href="../../d2/d00/classContext.html">Context</a> :
<a name="l00036"></a>00036     public <a class="code" href="../../db/d77/group__mathstr.html#gac2f2e6a47584a6f6396155a7f3ea198">NS</a>(lang,Object)
<a name="l00037"></a>00037 {
<a name="l00038"></a>00038 <span class="keyword">public</span>:
<a name="l00042"></a><a class="code" href="../../d2/d00/classContext.html#8642771012170d6357b76cf1c705f657">00042</a>     <span class="keyword">enum</span> <a class="code" href="../../d2/d00/classContext.html#8642771012170d6357b76cf1c705f657">PlatformType</a>
<a name="l00043"></a>00043     {
<a name="l00045"></a>00045         PLATFORM_DX,
<a name="l00047"></a>00047         PLATFORM_EGL,
<a name="l00049"></a>00049         PLATFORM_PSP,
<a name="l00051"></a>00051         PLATFORM_SW,
<a name="l00053"></a>00053         PLATFORM_N3D,
<a name="l00055"></a>00055         PLATFORM_COUNT
<a name="l00056"></a>00056     };
<a name="l00057"></a>00057 
<a name="l00059"></a><a class="code" href="../../d2/d00/classContext.html#fdb210f13578712e246b75f9446f5944">00059</a>     <span class="keyword">enum</span> <a class="code" href="../../d2/d00/classContext.html#fdb210f13578712e246b75f9446f5944">FilterType</a>
<a name="l00060"></a>00060     {
<a name="l00062"></a>00062         FILTER_NONE,
<a name="l00064"></a>00064         FILTER_POINT,
<a name="l00066"></a>00066         FILTER_LINEAR
<a name="l00067"></a>00067     };
<a name="l00068"></a>00068 
<a name="l00070"></a><a class="code" href="../../d2/d00/classContext.html#b4b1cfbb528784eb97402c6d9a6a5ca2">00070</a>     <span class="keyword">enum</span> <a class="code" href="../../d2/d00/classContext.html#b4b1cfbb528784eb97402c6d9a6a5ca2">UsageFlags</a>
<a name="l00071"></a>00071     {
<a name="l00073"></a>00073         USAGE_DEFAULT           = 0,
<a name="l00075"></a>00075         USAGE_RENDERTARGET      = 1,
<a name="l00077"></a>00077         USAGE_STATIC            = 2,
<a name="l00079"></a>00079         USAGE_DYNAMIC           = 4,
<a name="l00080"></a>00080     };
<a name="l00081"></a>00081 
<a name="l00083"></a><a class="code" href="../../d2/d00/classContext.html#12c461b66ed9aaf000d4570aabb6c482">00083</a>     <span class="keyword">enum</span> <a class="code" href="../../d2/d00/classContext.html#12c461b66ed9aaf000d4570aabb6c482">OrientationType</a>
<a name="l00084"></a>00084     {
<a name="l00086"></a>00086         ORIENTATION_0,
<a name="l00088"></a>00088         ORIENTATION_90,
<a name="l00090"></a>00090         ORIENTATION_180,
<a name="l00092"></a>00092         ORIENTATION_270,
<a name="l00093"></a>00093     };
<a name="l00094"></a>00094 
<a name="l00096"></a><a class="code" href="../../d6/d41/classContext_1_1RenderScene.html">00096</a>     <span class="keyword">class </span><a class="code" href="../../d6/d41/classContext_1_1RenderScene.html">RenderScene</a>
<a name="l00097"></a>00097     {
<a name="l00098"></a>00098     <span class="keyword">public</span>:
<a name="l00100"></a>00100         <span class="keyword">explicit</span> <a class="code" href="../../d6/d41/classContext_1_1RenderScene.html">RenderScene</a>( <a class="code" href="../../d2/d00/classContext.html">Context</a>* context );
<a name="l00101"></a>00101     
<a name="l00103"></a>00103         ~<a class="code" href="../../d6/d41/classContext_1_1RenderScene.html">RenderScene</a>();
<a name="l00104"></a>00104     
<a name="l00105"></a>00105     <span class="keyword">private</span>:
<a name="l00106"></a>00106         P(<a class="code" href="../../d2/d00/classContext.html">Context</a>) m_context;
<a name="l00107"></a>00107     
<a name="l00108"></a>00108         <a class="code" href="../../d6/d41/classContext_1_1RenderScene.html">RenderScene</a>( <span class="keyword">const</span> <a class="code" href="../../d6/d41/classContext_1_1RenderScene.html">RenderScene</a>&amp; );
<a name="l00109"></a>00109         <a class="code" href="../../d6/d41/classContext_1_1RenderScene.html">RenderScene</a>&amp; operator=( <span class="keyword">const</span> <a class="code" href="../../d6/d41/classContext_1_1RenderScene.html">RenderScene</a>&amp; );
<a name="l00110"></a>00110     };
<a name="l00111"></a>00111 
<a name="l00117"></a><a class="code" href="../../d5/dca/structContext_1_1Statistics.html">00117</a>     <span class="keyword">struct </span><a class="code" href="../../d5/dca/structContext_1_1Statistics.html">Statistics</a>
<a name="l00118"></a>00118     {
<a name="l00120"></a><a class="code" href="../../d5/dca/structContext_1_1Statistics.html#092e8f45739f1bac54bb2bd1781cf0ee">00120</a>         <span class="keywordtype">int</span> renderedFrames;
<a name="l00122"></a><a class="code" href="../../d5/dca/structContext_1_1Statistics.html#45290a0f0d349b4a855d52ac51fa5b0d">00122</a>         <span class="keywordtype">int</span> renderedLines;
<a name="l00124"></a><a class="code" href="../../d5/dca/structContext_1_1Statistics.html#d82c2769369f7d8472024e2336526732">00124</a>         <span class="keywordtype">int</span> renderedPoints;
<a name="l00126"></a><a class="code" href="../../d5/dca/structContext_1_1Statistics.html#9027d64dd6f0642bec01f6f231e19e81">00126</a>         <span class="keywordtype">int</span> renderedTriangles;
<a name="l00128"></a><a class="code" href="../../d5/dca/structContext_1_1Statistics.html#36c8d559347be5ce1f8f5eb4d74152c0">00128</a>         <span class="keywordtype">int</span> renderedPrimitives;
<a name="l00130"></a><a class="code" href="../../d5/dca/structContext_1_1Statistics.html#7b0d8169722483bc3cee674f7c17a689">00130</a>         <span class="keywordtype">int</span> allocatedTextureMemory;
<a name="l00132"></a><a class="code" href="../../d5/dca/structContext_1_1Statistics.html#343ca39d63ea359ca956efea398d1796">00132</a>         <span class="keywordtype">int</span> allocatedTextures;
<a name="l00133"></a>00133 
<a name="l00135"></a>00135         <span class="keywordtype">void</span> reset();
<a name="l00136"></a>00136     };
<a name="l00137"></a>00137 
<a name="l00139"></a><a class="code" href="../../d2/d00/classContext.html#4476fbd4ba44f55af80cf7e7019c6a8a">00139</a>     <a class="code" href="../../d5/dca/structContext_1_1Statistics.html">Statistics</a> statistics;
<a name="l00140"></a>00140 
<a name="l00141"></a>00141     <a class="code" href="../../d2/d00/classContext.html">Context</a>();
<a name="l00142"></a>00142     ~<a class="code" href="../../d2/d00/classContext.html">Context</a>();
<a name="l00143"></a>00143 
<a name="l00156"></a>00156     <span class="keyword">virtual</span> <a class="code" href="../../d9/d69/classShader.html">Shader</a>*     createShader( <span class="keyword">const</span> <a class="code" href="../../db/d77/group__mathstr.html#gac2f2e6a47584a6f6396155a7f3ea198">NS</a>(lang,<a class="code" href="../../d3/dee/classString.html">String</a>)&amp; name, <span class="keywordtype">int</span> flags=0 ) = 0;
<a name="l00157"></a>00157 
<a name="l00163"></a>00163     <span class="keyword">virtual</span> Palette*    createPalette( <span class="keywordtype">int</span> entries ) = 0;
<a name="l00164"></a>00164 
<a name="l00174"></a>00174     <span class="keyword">virtual</span> Primitive*  createPrimitive( <a class="code" href="../../df/de1/classPrimitive.html#a45b1977302de117e3a41588282b2f22">Primitive::PrimType</a> prim, <span class="keyword">const</span> VertexFormat&amp; vf, <span class="keywordtype">int</span> vertices, <span class="keywordtype">int</span> indices, <a class="code" href="../../d2/d00/classContext.html#b4b1cfbb528784eb97402c6d9a6a5ca2">UsageFlags</a> usage=USAGE_STATIC ) = 0;
<a name="l00175"></a>00175 
<a name="l00185"></a>00185     <span class="keyword">virtual</span> Primitive*  getDynamicPrimitive( <a class="code" href="../../df/de1/classPrimitive.html#a45b1977302de117e3a41588282b2f22">Primitive::PrimType</a> prim, <span class="keyword">const</span> VertexFormat&amp; vf, <span class="keywordtype">int</span> vertices, <span class="keywordtype">int</span> indices ) = 0;
<a name="l00186"></a>00186 
<a name="l00196"></a>00196     <span class="keyword">virtual</span> Texture*    createTexture( <span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height, <span class="keyword">const</span> SurfaceFormat&amp; fmt, Palette* pal, <span class="keywordtype">int</span> usageflags ) = 0;
<a name="l00197"></a>00197 
<a name="l00204"></a>00204     <span class="keyword">virtual</span> Texture*    createTexture( <span class="keyword">const</span> <a class="code" href="../../db/d77/group__mathstr.html#gac2f2e6a47584a6f6396155a7f3ea198">NS</a>(lang,<a class="code" href="../../d3/dee/classString.html">String</a>)&amp; filename ) = 0;
<a name="l00205"></a>00205 
<a name="l00212"></a>00212     <span class="keyword">virtual</span> CubeTexture* createCubeTexture( <span class="keyword">const</span> <a class="code" href="../../db/d77/group__mathstr.html#gac2f2e6a47584a6f6396155a7f3ea198">NS</a>(lang,<a class="code" href="../../d3/dee/classString.html">String</a>)&amp; filename ) = 0;
<a name="l00213"></a>00213 
<a name="l00218"></a>00218     <span class="comment">//virtual void      stretchRect( const Rect&amp; srcrect, Texture* dst, const Rect&amp; dstrect, FilterType filter ) = 0;</span>
<a name="l00219"></a>00219 
<a name="l00223"></a>00223     <span class="keyword">virtual</span> <span class="keywordtype">void</span>        setViewport( <span class="keyword">const</span> Rect&amp; rect ) = 0;
<a name="l00224"></a>00224 
<a name="l00232"></a>00232     <span class="keyword">virtual</span> <span class="keywordtype">void</span>        setPerspectiveProjection( <span class="keywordtype">float</span> hfov, <span class="keywordtype">float</span> front, <span class="keywordtype">float</span> back, <span class="keywordtype">float</span> aspect ) = 0;
<a name="l00233"></a>00233 
<a name="l00237"></a>00237     <span class="keyword">virtual</span> <span class="keywordtype">void</span>        setOrthographicProjection( <span class="keywordtype">bool</span> enabled ) = 0;
<a name="l00238"></a>00238 
<a name="l00244"></a>00244     <span class="keyword">virtual</span> <span class="keywordtype">void</span>        setRenderTarget( Texture* dst ) = 0;
<a name="l00245"></a>00245 
<a name="l00250"></a>00250     <span class="keyword">virtual</span> <span class="keywordtype">void</span>        setWireframeEnabled( <span class="keywordtype">bool</span> enabled );
<a name="l00251"></a>00251 
<a name="l00256"></a>00256     <span class="keyword">virtual</span> <span class="keywordtype">void</span>        beginScene() = 0;
<a name="l00257"></a>00257 
<a name="l00262"></a>00262     <span class="keyword">virtual</span> <span class="keywordtype">void</span>        endScene() = 0;
<a name="l00263"></a>00263 
<a name="l00269"></a>00269     <span class="keyword">virtual</span> <span class="keywordtype">void</span>        clear( <span class="keywordtype">int</span> color=0 ) = 0;
<a name="l00270"></a>00270 
<a name="l00275"></a>00275     <span class="keyword">virtual</span> <span class="keywordtype">void</span>        present( <span class="keywordtype">int</span> color=0 ) = 0;
<a name="l00276"></a>00276 
<a name="l00281"></a>00281     <span class="keyword">virtual</span> <span class="keywordtype">bool</span>        ready() = 0;
<a name="l00282"></a>00282 
<a name="l00291"></a>00291     <span class="keyword">virtual</span> <span class="keywordtype">void</span>        capture( <span class="keyword">const</span> <a class="code" href="../../db/d77/group__mathstr.html#gac2f2e6a47584a6f6396155a7f3ea198">NS</a>(lang,<a class="code" href="../../d3/dee/classString.html">String</a>)&amp; namefmt ) = 0;
<a name="l00292"></a>00292 
<a name="l00296"></a>00296     <span class="keyword">virtual</span> <span class="keywordtype">int</span>         width() <span class="keyword">const </span>= 0;
<a name="l00297"></a>00297 
<a name="l00301"></a>00301     <span class="keyword">virtual</span> <span class="keywordtype">int</span>         height() <span class="keyword">const </span>= 0;
<a name="l00302"></a>00302 
<a name="l00306"></a>00306     <span class="keyword">virtual</span> SurfaceFormat   surfaceFormat() <span class="keyword">const </span>= 0;
<a name="l00307"></a>00307 
<a name="l00311"></a>00311     <span class="keyword">virtual</span> <span class="keyword">const</span> Rect&amp; viewport() <span class="keyword">const </span>= 0;
<a name="l00312"></a>00312 
<a name="l00316"></a>00316     <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="../../db/d77/group__mathstr.html#gac2f2e6a47584a6f6396155a7f3ea198">NS</a>(math,float4x4)&amp;    projectionTransform() <span class="keyword">const </span>= 0;
<a name="l00317"></a>00317 
<a name="l00321"></a>00321     <span class="keywordtype">float</span>                   aspect() <span class="keyword">const</span>;
<a name="l00322"></a>00322 
<a name="l00326"></a>00326     <span class="keyword">virtual</span> <a class="code" href="../../d2/d00/classContext.html#8642771012170d6357b76cf1c705f657">PlatformType</a>    platform() <span class="keyword">const </span>= 0;
<a name="l00327"></a>00327 
<a name="l00331"></a>00331     <span class="keyword">virtual</span> <a class="code" href="../../d2/d00/classContext.html#12c461b66ed9aaf000d4570aabb6c482">OrientationType</a> orientation() <span class="keyword">const </span>= 0;
<a name="l00332"></a>00332 
<a name="l00336"></a>00336     <span class="keyword">const</span> <span class="keywordtype">char</span>*             platformString() <span class="keyword">const</span>;
<a name="l00337"></a>00337 
<a name="l00341"></a>00341     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>*      getString( <a class="code" href="../../d2/d00/classContext.html#8642771012170d6357b76cf1c705f657">PlatformType</a> platform );
<a name="l00342"></a>00342 
<a name="l00346"></a>00346     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>*      getDescription( <a class="code" href="../../d2/d00/classContext.html#8642771012170d6357b76cf1c705f657">PlatformType</a> platform );
<a name="l00347"></a>00347 
<a name="l00348"></a>00348 <span class="keyword">private</span>:
<a name="l00349"></a>00349     <a class="code" href="../../d2/d00/classContext.html">Context</a>( <span class="keyword">const</span> <a class="code" href="../../d2/d00/classContext.html">Context</a>&amp; );
<a name="l00350"></a>00350     <a class="code" href="../../d2/d00/classContext.html">Context</a>&amp; operator=( <span class="keyword">const</span> <a class="code" href="../../d2/d00/classContext.html">Context</a>&amp; );
<a name="l00351"></a>00351 };
<a name="l00352"></a>00352 
<a name="l00353"></a>00353 
<a name="l00354"></a>00354 <a class="code" href="../../d6/d92/group__lang.html#gce508b538a678f69f6213076f2f85859">END_NAMESPACE</a>() <span class="comment">// gr</span>
<a name="l00355"></a>00355 
<a name="l00356"></a>00356 
<a name="l00357"></a>00357 <span class="preprocessor">#endif // _GR_CONTEXT_H</span>
<a name="l00358"></a>00358 <span class="preprocessor"></span>
<a name="l00359"></a>00359 <span class="comment">// Copyright (C) 2004-2006 Pixelgene Ltd. All rights reserved. Consult your license regarding permissions and restrictions.</span>
</pre></div><br><br><small></small><br><br></body></html>
